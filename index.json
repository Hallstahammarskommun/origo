{
  "controls": [
    {
      "name": "geoposition"
    },
    {
      "name": "mapmenu"
    },
    {
      "name": "search",
      "options": {
        "url": "https://karta.hallstahammar.se/search",
        "geometryAttribute": "st_astext",
        "layerNameAttribute": "layer",
        "searchAttribute": "NAMN",
        "titleAttribute": "layer",
        "contentAttribute": "NAMN",
        "hintText": "Sök i Hallstakartan"
      }
    },
    {
      "name": "sharemap"
    },
    {
      "name": "print"
    },
    {
      "name": "about",
      "options": {
        "buttonText": "Om Origo",
        "title": "Om Origo",
        "content": "<p>Origo är ett ramverk för webbkartor. Ramverket bygger på JavaScript-biblioteket OpenLayers. Du kan använda Origo för att skapa egna webbaserade kartapplikationer.</p><br><p>Projektet drivs och underhålls av ett antal svenska kommuner. Besök gärna <a href='https://github.com/origo-map/origo' target='_blank'>Origo på GitHub</a> för mer information.</p>"
      }
    },
    {
      "name": "measure",
      "options": {
        "elevationServiceURL": "https://karta.hallstahammar.se/elevation/3010/{easting}/{northing}",
        "elevationTargetProjection": "EPSG:3010",
        "elevationAttribute": "geometry.coordinates[2]",
        "measureTools": ["length", "area", "elevation"]        
      }
    },
    {
      "name": "legend",
      "options": {
        "labelOpacitySlider": "Opacity"
      }
    },
    {
      "name": "legend",
      "options": {
        "hasMapLegend": false
      }
    },
    {
      "name": "externalurl",
      "options": {
        "links": 
        [
          {
            "tooltipText": "Google street view",
            "method": "LatLon",
            "url": "https://www.google.com/maps/@?api=1&map_action=pano&viewpoint={{LAT}},{{LON}}&heading=-45&pitch=10&fov=80",
            "buttonImage": "img/png/gsv.png"
          }
        ]
      }
    }
  ],
  "pageSettings": {
    "footer": {
      "img": "img/png/logo.png",
      "url": "https://github.com/origo-map/origo",
      "urlText": "Origo"
    },
    "mapGrid": {
      "visible": true
    }
  },
  "projectionCode": "EPSG:3857",
  "projectionExtent": [
    -166640,
    6305699,
    433362,
    6905701
  ],
  "proj4Defs": [
    {
      "code": "EPSG:3006",
      "projection": "+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"
    }
  ],
  "extent": [
    -166640,
    6305699,
    433362,
    6905701
  ],
  "center": [
    133361,
    6605700
  ],
  "zoom": 2,
  "resolutions": [
    91.9577,
    61.3051,
    40.8701,
    27.2467,
    18.1645,
    12.1097,
    8.0731,
    5.382,
    3.588,
    2.392,
    1.5947,
    1.0631,
    0.7088,
    0.4725,
    0.315,
    0.21,
    0.14
  ],
  "featureinfoOptions": {
    "infowindow": "infowindow"
  },
  "source": {
    "wms": {
      "url": "https://karta.hallstahammar.se/geoserver/wms",
      "version": "1.1.1"
    },
    "ows": {
      "url": "https://karta.hallstahammar.se/geoserver/ows",
      "strategy": "all"
    },
    "wmts": {
      "url": "https://karta.hallstahammar.se/geoserver/bakgrund/gwc/service/wmts"
    }
  },
  "groups": [
    {
      "name": "bygga",
      "title": "Bygga & bo",
      "expanded": true
    },
    {
      "name": "energi",
      "title": "Energi & miljö",
      "expanded": true
    },
    {
      "name": "trafik",
      "title": "Trafik & resor",
      "expanded": true
    },
    {
      "name": "uppleva",
      "title": "Uppleva & göra",
      "expanded": true
    },
    {
      "name": "utbildning",
      "title": "Utbildning & barnomsorg",
      "expanded": true
    },
    {
      "name": "background",
      "title": "Bakgrundskartor",
      "expanded": true
    }
  ],
  "layers": [
    {
      "name": "fastigheter",
      "title": "Fastighetsgräns",
      "style": "granser",
      "group": "bygga",
      "type": "GROUP",
      "fme": true,
      "visible": false,
      "layers": [
        {
          "name": "fastighet",
          "source": "wms",
          "style": "granser",
          "format": "image/png",
          "group": "bygga",
          "type": "WMS",
          "queryable": false,
          "visible": true
        },
        {
          "name": "tk_s_fat_y",
          "source": "ows",
          "style": "tk_s_fat_y",
          "title": "Fastighet",
          "format": "image/png",
          "group": "bygga",
          "type": "WFS",
          "visible": true,
          "attributes": [
            {
              "name": "obj"
            }
          ]
        }
      ]
    },
    {
      "name": "detaljplan",
      "title": "Gällande detaljplan",
      "style": "detaljplan",
      "group": "bygga",
      "type": "GROUP",
      "fme": true,
      "visible": false,
      "abstract": "Detta lager innehåller digitaliserade tolkningar av kommunens detaljplaner. Samtliga ytor är klickbara där mer information ges om vilka planbestämmelser som gäller för särskilda ytor. De digitaliserade ytorna är ett stöd i att förstå detaljplanen och dess bestämmelser. Juridiskt är det dock den länkade plankartan som gäller.",
      "layers": [
        {
          "name": "pbr_detaljplaner",
          "source": "wms",
          "style": "detaljplan",
          "title": "Gällande detaljplan",
          "format": "image/png",
          "type": "WMS",
          "queryurl": "https://karta.hallstahammar.se/markreglering?ne=",
          "visible": true,
          "minScale": 4000,
          "attributes": [
            {
              "title": "Namn: ",
              "name": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:Planattribut.app:namn"
            },
            {
              "title": "Planakt: ",
              "name": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:Planattribut.app:aktbeteckning",
              "url": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:objektidentitet",
              "urlPrefix": "https://hallstahammar.se/webdav/files/Styrande%20dokument/G%C3%A4llande%20detaljplaner/",
              "urlSuffix": ".pdf"
            }
          ]
        },
        {
          "name": "pbr_detaljplaner",
          "source": "wms",
          "style": "detaljplan",
          "title": "Gällande detaljplan",
          "format": "image/png",
          "type": "WMS",
          "visible": true,
          "opacity": 0.2,
          "maxScale": 4000,
          "queryurl": "https://karta.hallstahammar.se/markreglering?ne=",
          "attributes": [
            {
              "title": "Namn: ",
              "name": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:Planattribut.app:namn"
            },
            {
              "title": "Planakt: ",
              "name": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:Planattribut.app:aktbeteckning",
              "url": "env:Envelope.env:Body.app:MarkregleringResponse.app:MarkregleringMember.app:Plan.app:objektidentitet",
              "urlPrefix": "https://hallstahammar.se/webdav/files/Styrande%20dokument/G%C3%A4llande%20detaljplaner/",
              "urlSuffix": ".pdf"
            }
          ]
        },
        {
          "name": "ks_dpan_y",
          "title": "Användning",
          "source": "ows",
          "style": "ks_dpan_y",
          "type": "WFS",
          "visible": true,
          "maxScale": 4000,
          "attributes": [
            {
              "name": "description_pt"
            }
          ]
        },
        {
          "name": "ks_dpe_y",
          "title": "Bestämmelse",
          "source": "ows",
          "style": "ks_dpe_y",
          "type": "WFS",
          "visible": true,
          "maxScale": 2000,
          "attributes": [
            {
              "name": "description_pt"
            }
          ]
        },
        {
          "name": "ks_dpad_y",
          "title": "Administrativ bestämmelse",
          "source": "ows",
          "style": "ks_dpe_y",
          "type": "WFS",
          "visible": true,
          "maxScale": 2000,
          "attributes": [
            {
              "name": "description_pt"
            }
          ]
        },
        {
          "name": "ks_dpn_l",
          "title": "Bestämmelse",
          "source": "ows",
          "style": "ks_dpn_l",
          "type": "WFS",
          "visible": true,
          "maxScale": 2000,
          "queryable": false
        }
      ]
    },
    {
      "name": "tk_kof_y",
      "source": "ows",
      "style": "tk_kof_y",
      "title": "Kommunal mark",
      "group": "bygga",
      "queryable": false,
      "type": "WFS",
      "fme": true,
      "visible": false
    },
    {
      "name": "tk_w_lem_y__industri",
      "source": "ows",
      "style": "tk_w_lim_y",
      "title": "Ledig industrimark",
      "group": "bygga",
      "type": "WFS",
      "fme": true,
      "filter": "typ = 'Industri'",
      "visible": false,
      "attributes": [
        {
          "name": "name"
        }
      ],
      "visible": true
    },
    {
      "name": "bm_lim_p",
      "source": "ows",
      "style": "bm_lim_p",
      "title": "Livsmedelsinspektion",
      "group": "energi",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "name": "obj"
        },
        {
          "name": "typ"
        },
        {
          "name": "egn"
        },
        {
          "name": "status"
        },
        {
          "title": "Lämna synpunkter och klagomål",
          "url": "https://eservice.hallstahammar.se/EServiceStart.aspx?id=de4a51a8-d2e5-4768-b2f8-0676099648e1",
          "target": "_blank"
        }
      ]
    },
    {
      "name": "TK_sop_r",
      "source": "wms",
      "format": "image/png",
      "style": "tk_sop_r",
      "title": "Solpotential",
      "group": "energi",
      "queryable": false,
      "type": "WMS",
      "visible": false,
      "abstractTitle": "Så här fungerar solkartan",
      "abstract": "Röda fält visar mycket god potential för en solcellsanläggning och orange fält visar god potential för en solcellsanläggning. Blåa fält visar mindre potential och är inte i dagsläget ekonomiskt lönsam. För mer information besök kommunens <a href='https://hallstahammar.se/boende-miljo-och-trafik/miljo-och-klimat/energi--och-klimatradgivning' target='_blank'>webbplats om energi- och klimatrådgivning.</a>"
    },
    {
      "name": "bm_nar_y",
      "source": "ows",
      "style": "bm_nar_y",
      "title": "Naturreservat",
      "group": "uppleva",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "title": "Mer information",
          "url": "https://hallstahammar.se/uppleva-och-gora/natur-och-friluftsliv/naturreservat-i-kommunen",
          "taget": "_blank"
        }
      ]
    },
    {
      "name": "bu_w_ska_p",
      "source": "ows",
      "style": "point",
      "title": "Skollager",
      "group": "none",
      "type": "WFS",
      "visible": false
    },
    {
      "name": "bu_w_ska_p__Forskola",
      "style": "bu_w_fos_p",
      "title": "Förskola",
      "group": "utbildning",
      "type": "GROUP",
      "fme": true,
      "visible": false,
      "layers":
      [
        {
          "name": "bu_w_ska_p__Forskola",
          "source": "ows",
          "filter": "egn = 'Förskola'",
          "style": "bu_w_fos_p",
          "title": "Förskola",
          "type": "WFS",
          "visible": true,
          "attributes": [
            {
              "name": "obj",
              "url": "url"
            },
            {
              "title": "Ansök om plats (gäller endast kommmunala förskolor)",
              "url": "https://eservice.hallstahammar.se/EServiceStart.aspx?id=d41aec64-7b30-4d77-bdc6-c4901afe9910",
              "target": "_blank"
            },
            {
              "name": "tel",
              "title": "Telefon: "
            }
          ]
        },
        {
          "name": "bu_w_ska_p__Forskola",
          "source": "ows",
          "filter": "egn = 'Privat förskola'",
          "style": "bu_w_fos_p",
          "title": "Förskola",
          "type": "WFS",
          "visible": true,
          "attributes": [
            {
              "name": "obj",
              "url": "url"
            },
            {
              "name": "tel",
              "title": "Telefon: "
            }
          ]
        }
      ]
    },
    {
      "name": "bu_w_ska_p__Grundskola",
      "source": "ows",
      "style": "bu_w_grs_p",
      "title": "Grundskola",
      "group": "utbildning",
      "type": "WFS",
      "fme": true,
      "filter": "egn = 'Grundskola'",
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "url": "url"
        },
        {
          "name": "typ",
          "title": "Årskurs: "
        },
        {
          "name": "tel",
          "title": "Telefon: "
        }
      ]
    },
    {
      "name": "bu_w_ska_p__Grundsarskola",
      "source": "ows",
      "style": "bu_w_gss_p",
      "title": "Grundsärskola",
      "group": "utbildning",
      "type": "WFS",
      "fme": true,
      "filter": "egn = 'Grundsärskola'",
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "url": "url"
        },
        {
          "name": "typ",
          "title": "Årskurs: "
        },
        {
          "name": "tel",
          "title": "Telefon: "
        }
      ]
    },
    {
      "name": "bu_upo_y",
      "source": "ows",
      "style": "bu_upo_y",
      "title": "Upptagningsområden",
      "group": "utbildning",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "title": ""
        }
      ]
    },
    {
      "name": "ks_brl_g",
      "source": "ows",
      "style": "ks_brl_g",
      "title": "Brukslinjen",
      "group": "trafik",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "title": "Hållplats: "
        },
        {
          "title": "Mer information",
          "url": "https://hallstahammar.se/boende-miljo-och-trafik/gator-trafik-och-resande/kollektivtrafik",
          "taget": "_blank"
        }
      ]
    },
    {
      "name": "ks_sel_l",
      "source": "ows",
      "style": "ks_sel_l",
      "title": "Servicelinjen",
      "group": "trafik",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "title": "Tur: "
        },
        {
          "title": "Mer information",
          "url": "https://hallstahammar.se/boende-miljo-och-trafik/gator-trafik-och-resande/kollektivtrafik",
          "taget": "_blank"
        }
      ]
    },
    {
      "name": "ks_skl_l",
      "title": "Skollinjer",
      "group": "trafik",
      "source": "ows",
      "style": "ks_skl_l",
      "type": "WFS",
      "fme": true,
      "visible": false,
      "attributes": [
        {
          "name": "obj",
          "title": "Tur: "
        },
        {
          "title": "Mer information",
          "url": "https://hallstahammar.se/barn-och-utbildning/grundskola-forskoleklass-och-fritidshem/skolskjuts---grundskola-och-grundsarskola",
          "taget": "_blank"
        }
      ]
    },
    {
      "name": "tk_mak_y",
      "source": "ows",
      "style": "tk_mak_y",
      "title": "Mask",
      "group": "tom",
      "queryable": false,
      "type": "WFS",
      "visible": true
    },
    {
      "attribution": "&copy Lantmäteriet Geodatasamverkan",
      "format": "image/jpeg",
      "group": "background",
      "name": "topowebbkartan_nedtonad",
      "source": "wmts",
      "title": "Karta, grå",
      "type": "WMTS",
      "style": "karta_gra",
      "visible": true
    },
    {
      "attribution": "&copy Lantmäteriet Geodatasamverkan",
      "format": "image/jpeg",
      "group": "background",
      "name": "topowebbkartan",
      "source": "wmts",
      "title": "Karta, färg",
      "type": "WMTS",
      "style": "karta_farg",
      "visible": false
    },
    {
      "attribution": "&copy Lantmäteriet Geodatasamverkan",
      "format": "image/jpeg",
      "group": "background",
      "name": "orto",
      "source": "wmts",
      "title": "Flygfoto",
      "type": "WMTS",
      "style": "orto",
      "visible": false
    }
  ],
  "styles": {
    "mask": [
      [
        {
          "stroke": {
            "color": "rgba(0,0,0,1.0)"
          },
          "fill": {
            "color": "rgba(0,0,0,1.0)"
          }
        }
      ]
    ],
    "origo-logo": [
      [
        {
          "label": "Origokommuner",
          "circle": {
            "radius": 10,
            "stroke": {
              "color": "rgba(0,0,0,1)",
              "width": 2.5
            },
            "stroke": {
              "color": "rgba(255,153,51,0.9)",
              "width": 4
            }
          }
        },
        {
          "text": {
            "font": "Bold 12px Arial",
            "textAlign": "center",
            "text": "size",
            "fill": {
              "color": "rgba(255,255,255,0.9)"
            }
          }
        },
        {
          "circle": {
            "radius": 2.5,
            "stroke": {
              "color": "rgba(0,0,0,0)",
              "width": 1
            },
            "fill": {
              "color": "rgba(37,129,196,1)"
            }
          }
        }
      ]
    ],
    "cirkel": [
      [
        {
          "circle": {
            "radius": 6,
            "stroke": {
              "color": "rgba(0,0,0,1)",
              "width": 2
            },
            "fill": {
              "color": "rgba(0,0,0,0.5)"
            }
          }
        }
      ]
    ],
    "karta_osm": [
      [
        {
          "image": {
            "src": "img/png/osm.png"
          }
        }
      ]
    ],
    "karta_gra": [
      [
        {
          "image": {
            "src": "img/png/gra.png"
          }
        }
      ]
    ],
    "karta_farg": [
      [
        {
          "image": {
            "src": "img/png/farg.png"
          }
        }
      ]
    ],
    "orto": [
      [
        {
          "image": {
            "src": "img/png/orto.png"
          }
        }
      ]
    ]
  }
}