{
  "controls": [
    {
      "name": "geoposition"
    }, {
      "name": "mapmenu"
    }, {
        "name": "search",
        "options": {
            "url": "https://karta.hallstahammar.se/search",
            "geometryAttribute": "st_astext",
            "layerNameAttribute": "layer",
            "searchAttribute": "NAMN",
            "titleAttribute": "layer",
            "contentAttribute": "NAMN",
            "hintText": "Sök i Hallstakartan"
        }
    }, {
      "name": "about",
      "options": {
        "title": "Om Kartskaparen",
        "content": "<p>Kartskaparen är ett redigeringsverktyg för lager som är publicerade i våra karttjänster.</p><p>Vi rekommenderar att du använder den senaste versionen av din webbläsare för att verktyget ska fungera som bäst.</p>"
      }
    }, {
      "name": "editor",
      "options": {
        "editableLayers": ["tk_w_are_p", "tk_w_let_y", "tk_w_lim_y", "ks_w_opo_p", "tk_w_pak_p", "tk_w_pak_y", "tk_w_pap_y", "bu_w_ska_p", "tk_w_stp_p"],
        "isActive": true,
        "autoSave": true,
        "autoForm": true
      }
    }, {
        "name": "legend",
        "options": {
          "hasMapLegend": false
        }
    }
  ],
  "projectionCode": "EPSG:3010",
  "projectionExtent": [-166640, 6305699, 433362, 6905701],
  "proj4Defs": [
      {
          "code": "EPSG:3010",
          "alias": "urn:ogc:def:crs:EPSG::3010",
          "projection": "+proj=tmerc +lat_0=0 +lon_0=16.5 +k=1 +x_0=150000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"
      }
  ],
  "extent": [-16640, 6455699, 283362, 6755701],
  "center": [133361, 6605700],
  "zoom": 2,
  "resolutions": [
    91.9577,
    61.3051,
    40.8701,
    27.2467,
    18.1645,
    12.1097,
    8.0731,
    5.382,
    3.588,
    2.392,
    1.5947,
    1.0631,
    0.7088,
    0.4725,
    0.315,
    0.21,
    0.14
  ],
  "source": {
      "wms": {
          "url": "https://karta.hallstahammar.se/geoserver/wms",
          "version": "1.1.1"
      },
      "intern": {
          "url": "https://karta.hallstahammar.se/intern/kartserver/intern/wms",
          "version": "1.1.1"
      },
      "ows": {
          "url": "https://karta.hallstahammar.se/intern/kartserver/ows",
          "workspace": "intern",
          "strategy": "all"
      },
      "basemap": {
          "url": "https://karta.hallstahammar.se/geoserver/bakgrund/gwc/service/wmts"
      }
  },
  "groups": [
    {
      "name": "hjälplager",
      "title": "Hjälplager",
      "expanded": true
    },
    {
      "name": "background",
      "title": "Bakgrundskartor",
      "expanded": true
    }
  ],
  "layers": [{
      "name": "detaljplan",
      "source": "wms",
      "style": "detaljplan",
      "title": "Detaljplan",
      "format": "image/png",
      "group": "hjälplager",
      "type": "WMS",
      "visible": false
    }, {
      "name": "granser",
      "source": "wms",
      "style": "granser",
      "title": "Fastighetsgränser",
      "format": "image/png",
      "group": "hjälplager",
      "type": "WMS",
      "visible": false
    }, {
      "name": "tk_kof_y",
      "source": "ows",
      "style": "tk_kof_y",
      "title": "Kommunal mark",
      "group": "hjälplager",
      "queryable": false,
      "type": "WFS",
      "visible": false
    }, {
      "attribution": "&copy Hallstahammars kommun, Tekniska förvaltningen",
      "format": "image/png",
      "group": "hjälplager",
      "name": "pk",
      "source": "intern",
      "title": "Primärkarta, grå",
      "type": "WMS",
      "style": "pk_gra",
      "visible": false
    }, {
      "name": "tk_w_are_p",
      "title": "Arrende",
      "source": "ows",
      "style": "tk_w_are_p",
      "group": "",
      "type": "WFS",
      "geometryType": "Point",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Arrendator: ",
        "type": "text"
      }, {
        "name": "typ",
        "title": "Ändamål: ",
        "type": "text"
      }, {
        "name": "url",
        "title": "Sökväg: ",
        "type": "text"
      }]
    }, {
      "name": "tk_w_let_y",
      "title": "Lediga tomter",
      "source": "ows",
      "style": "tk_w_let_y",
      "group": "",
      "type": "WFS",
      "geometryType": "Polygon",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Fastighet: ",
        "type": "text"
      }, {
        "name": "egn",
        "title": "Område: ",
        "type": "text"
      },
      {
        "name": "typ",
        "title": "Pris: ",
        "type": "text"
      }, {
        "name": "status",
        "title": "Status: ",
        "type": "dropdown",
        "options": ["Ledig", "Bokad", "Såld"]
      }, {
        "name": "url",
        "title": "Länk: ",
        "type": "text"
      }, {
        "name": "datum",
        "title": "Bokad till: ",
        "type": "text"
      }]
    },
    {
      "name": "tk_w_lim_y",
      "title": "Ledig industrimark",
      "source": "ows",
      "style": "tk_w_lim_y",
      "group": "",
      "type": "WFS",
      "geometryType": "Polygon",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Storlek: ",
        "type": "textarea"
      }, {
        "name": "typ",
        "title": "Pris: ",
        "type": "text"
      }, {
        "name": "status",
        "title": "Status: ",
        "type": "dropdown",
        "options": ["Ledig", "Bokad"]
      }]
    },
    {
      "name": "ks_w_opo_p",
      "title": "Opto ansluten",
      "source": "ows",
      "style": "ks_w_opo_p",
      "group": "",
      "type": "WFS",
      "geometryType": "Point",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Status: ",
        "type": "dropdown",
        "options": ["Ansluten", "Avtal", "Intresse", "Kampanj", "Pumpstation"]
      }]
    }, {
      "name": "tk_w_pak_p",
      "title": "Park punkt",
      "source": "ows",
      "style": "tk_w_pak_p",
      "group": "",
      "type": "WFS",
      "geometryType": "Point",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Objekt: ",
        "type": "dropdown",
        "options": ["Papperskorg", "Parkbänk", "Papperskorg + parkbänk"]
      }]
    }, {
      "name": "tk_w_pak_y",
      "title": "Park yta",
      "source": "ows",
      "style": "tk_w_pak_y",
      "group": "",
      "type": "WFS",
      "geometryType": "Polygon",
      "visible": false,
      "queryable": true,
      "attributes": [
        {
          "name": "obj",
          "title": "Markslag: ",
          "type": "dropdown",
          "options": ["Gräs", "Skog"]
        },
          {
            "name": "typ",
            "title": "Nummer: ",
            "type": "text"
          },
          {
            "name": "egn",
            "title": "Skötselintervall: ",
            "type": "dropdown",
            "constraint": "change:obj:Gräs",
            "options": ["Kontinuerlig", "1-3 gånger/säsong"]
          },
          {
            "name": "egn",
            "title": "Skötselintervall: ",
            "type": "dropdown",
            "constraint": "change:obj:Skog",
            "options": ["2017", "2018", "2019"]
          }
      ]
    }, {
      "name": "tk_w_pap_y",
      "title": "Pågående detaljplan",
      "source": "ows",
      "style": "tk_w_pap_y",
      "group": "",
      "type": "WFS",
      "geometryType": "Polygon",
      "visible": false,
      "queryable": true,
      "attributes": [{
        "name": "obj",
        "title": "Plannamn: ",
        "type": "text"
      }, {
        "name": "url",
        "title": "Länk: ",
        "type": "text"
      }]
    }, {
      "name": "bu_w_ska_p",
      "title": "Skola",
      "source": "ows",
      "style": "bu_w_grs_p",
      "group": "",
      "type": "WFS",
      "geometryType": "Point",
      "visible": false,
      "queryable": true,
      "attributes": [
          {
            "name": "obj",
            "title": "Namn: ",
            "type": "text"
          }, {
            "name": "typ",
            "title": "Årskurs: ",
            "type": "text"
          }, {
            "name": "egn",
            "title": "Typ: ",
            "type": "dropdown",
            "options": ["Förskola", "Grundskola", "Grundsärskola"]
          }, {
            "name": "tel",
            "title": "Telefon: ",
            "type": "text"
          }, {
            "name": "url",
            "title": "Länk: ",
            "type": "text"
          }
      ]
    }, {
      "name": "tk_w_stp_p",
      "title": "Stompunkter",
      "source": "ows",
      "style": "tk_w_stp_p",
      "group": "",
      "type": "WFS",
      "geometryType": "Point",
      "visible": false,
      "filter": "status <> 'förstörd'",
      "strategy": "bbox",
      "queryable": true,
      "attributes": [{
        "name": "status",
        "title": "Status: ",
        "type": "dropdown",
        "options": ["förstörd", "återfunnen"]
      }]
    }, {
          "name": "tk_mak_y",
          "source": "ows",
          "style": "tk_mak_y",
          "title": "Mask",
          "queryable": false,
          "type": "WFS",
          "visible": true
    }, {
          "attribution": "&copy Lantmäteriet Geodatasamverkan",
          "format": "image/jpeg",
          "group": "background",
          "name": "topowebbkartan_nedtonad",
          "source": "basemap",
          "title": "Karta, grå",
          "type": "WMTS",
          "style": "karta_gra",
          "visible": true
      }, {
          "attribution": "&copy Lantmäteriet Geodatasamverkan",
          "format": "image/jpeg",
          "group": "background",
          "name": "topowebbkartan",
          "source": "basemap",
          "title": "Karta, färg",
          "type": "WMTS",
          "style": "karta_farg",
          "visible": false
      }, {
          "attribution": "&copy Lantmäteriet Geodatasamverkan",
          "format": "image/jpeg",
          "group": "background",
          "name": "orto",
          "source": "basemap",
          "title": "Flygfoto",
          "type": "WMTS",
          "style": "orto",
          "visible": false
      }],
  "styles": {
      "mask": [
        [
          {
            "stroke": {
              "color": "rgba(0,0,0,1.0)"
            },
            "fill": {
              "color": "rgba(0,0,0,1.0)"
            }
          }
        ]
      ],
      "detaljplan": [
          [{
              "stroke": {
                  "color": "rgb(253,236,195)",
                  "width": 1
              }
          }]
      ],
      "granser": [
        [{
            "stroke": {
                "color": "rgb(150,61,20)",
                "width": 1
            }
        }]
      ],
      "tk_kof_y": [
          [{
              "fill": {
                  "color": "rgba(165,0,165,0.25)"
              },
              "filter": "[typ] == 'Nej'"
          }]
      ],
      "tk_w_are_p": [
        [{
          "icon": {
            "src": "img/png/TK_w_are_p.png"
          }
        }]
      ],
      "tk_w_pak_p": [
        [{
          "icon": {
            "src": "img/png/TK_w_pak_p0.png"
          },
          "filter": "[obj] == 'Parkbänk'"
        }],
        [{
          "icon": {
            "src": "img/png/TK_w_pak_p1.png"
          },
          "filter": "[obj] == 'Papperskorg'"
        }],
        [{
          "icon": {
            "src": "img/png/TK_w_pak_p2.png"
          },
          "filter": "[obj] == 'Papperskorg + parkbänk'"
        }]
      ],
      "bu_w_grs_p": [
        [{
          "icon": {
            "src": "img/png/BU_w_grs_p.png"
          }
        }]
      ],
      "tk_w_let_y": [
          [{
            "filter": "[status] == 'Ledig'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 1
            },
            "fill": {
              "color": "rgba(0,225,0,0.25)"
            }
          }],
          [{
            "filter": "[status] == 'Bokad'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 1
            },
            "fill": {
              "color": "rgba(255,255,0,0.25)"
            }
          }],
          [{
            "filter": "[status] == 'Såld'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 1
            },
            "fill": {
              "color": "rgba(255,0,0,0.25)"
            }
          }],
          [{
            "filter": "[status] == 'null'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 1
            }
          }]
        ],
        "tk_w_lim_y": [
          [{
            "filter": "[status] == 'Ledig'",
            "stroke": {
              "color": "rgba(103, 60, 31, 0.6)",
              "width": 2
            },
            "fill": {
              "color": "rgba(103, 60, 31,0.3)"
            }
          }],
          [{
            "filter": "[status] == 'Bokad'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 2
            },
            "fill": {
              "color": "rgba(255,255,0,0.25)"
            }
          }],
          [{
            "filter": "[status] == 'null'",
            "stroke": {
              "color": "rgba(0,0,0,0.5)",
              "width": 1
            }
          }]
      ],
      "ks_w_opo_p": [
        [{
          "icon": {
            "src": "img/png/droppe.png"
          },
          "filter": "[obj] == 'null'"
        }],
        [{
          "icon": {
            "src": "img/png/KS_w_opo_p1.png"
          },
          "filter": "[obj] == 'Ansluten'"
        }],
        [{
          "icon": {
            "src": "img/png/KS_w_opo_p2.png"
          },
          "filter": "[obj] == 'Avtal'"
        }],
        [{
          "icon": {
            "src": "img/png/KS_w_opo_p4.png"
          },
          "filter": "[obj] == 'Intresse'"
        }],
        [{
          "icon": {
            "src": "img/png/KS_w_opo_p3.png"
          },
          "filter": "[obj] == 'Kampanj'"
        }],
        [{
          "icon": {
            "src": "img/png/KS_w_opo_p0.png"
          },
          "filter": "[obj] == 'Pumpstation'"
        }]
      ],
      "tk_w_pak_y": [
        [{
          "filter": "[egn] == 'Kontinuerlig'",
          "stroke": {
            "color": "rgba(0,0,0,0.1)",
            "width": 1
          },
          "fill": {
            "color": "rgba(0,255,0,0.5)"
          }
        }],
        [{
          "filter": "[egn] == '1-3 gånger/säsong'",
          "stroke": {
            "color": "rgba(0,0,0,0.1)",
            "width": 1
          },
          "fill": {
            "color": "rgba(255,255,0,0.5)"
          }
        }],
        [{
          "filter": "[egn] == '2017'",
          "stroke": {
            "color": "rgba(204,30,1,0.25)",
            "width": 1
          },
          "fill": {
            "color": "rgba(204,30,1,0.5)"
          }
        }],
        [{
          "filter": "[egn] == '2018'",
          "stroke": {
            "color": "rgba(112,0,90,0.25)",
            "width": 1
          },
          "fill": {
            "color": "rgba(112,0,90,0.5)"
          }
        }],
        [{
          "filter": "[egn] == '2019'",
          "stroke": {
            "color": "rgba(1,0,72,0.25)",
            "width": 1
          },
          "fill": {
            "color": "rgba(1,0,72,0.5)"
          }
        }],
        [{
          "stroke": {
            "color": "rgba(0,0,0,0.25)",
            "width": 1
          },
          "fill": {
            "color": "rgba(255,255,255,0.5)"
          }
        }]
      ],
      "tk_w_pap_y": [
        [{
            "stroke": {
                "color": "rgba(229,109,30,0.6)",
                "width": 1
            },
            "fill": {
                "color": "rgba(66,89,179,0.3)"
            }
        }]
      ],
      "tk_w_stp_p": [
        [{
          "icon": {
            "src": "img/png/drop_blue.png"
          },
          "filter": "[status] == 'återfunnen'"
        }], [{
          "icon": {
            "src": "img/png/droppe_orange.png"
          }
        }]
      ],
      "tk_mak_y": [
          [{
              "fill": {
                  "color": "rgba(0,0,0,0.15)"
              }
          }]
      ],
      "karta_gra": [
        [
          {
            "image": {
              "src": "img/png/gra.png"
            }
          }
        ]
      ],
      "karta_farg": [
        [
          {
            "image": {
              "src": "img/png/farg.png"
            }
          }
        ]
      ],
      "orto": [
        [
          {
            "image": {
              "src": "img/png/orto.png"
            }
          }
        ]
      ],
      "pk_gra": [
        [
          {
            "image": {
              "src": "img/png/pk_gra.png"
            }
          }
        ]
      ]
  }
}
